# auto tag patch releases on pull-request merge
# status of unit tests does not matter
# 

name: autotag

on:
  #push:
  #  branches:
  #    - main
  # https://docs.github.com/en/actions/learn-github-actions/events-that-trigger-workflows#pull_request
  pull_request:
    types: [closed]
    branches:
      - main

jobs:
  myaction:
    name: 'My action'
    runs-on: ubuntu-latest
    steps:
      - name: My step
        # if: github.event.action == 'closed' && github.event.pull_request.merged == true
        run: |
          echo "cat \$GITHUB_EVENT_PATH"
          cat $GITHUB_EVENT_PATH
          echo "github.event.action ${{ github.event.action }}"
          echo "github.event.pull_request.merged ${{ github.event.pull_request.merged }}"
